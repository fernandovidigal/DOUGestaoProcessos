<%- include('../includes/header.ejs') %>

<div class="maincontent">
  <div class="maincontent__header">
    <a href="/admin/utilizadores" class="maincontent__backarrow"></a>
    <h1>Alterar Password</h1>
  </div>

  <div class="utilizadorInfo">
    <p class="utilizadorInfo--nome"><%= utilizador.nome %></p>
    <p class="utilizadorInfo--email"><%= utilizador.email %></p>
  </div>

  <form action="/admin/alterarPassword/<%= utilizador.utilizadorId %>" method="post">
    <div class="form-group">
      <% if(locals.errors){ 
        var erroPassword=errors.find(el=> el.param == 'password');
      } %>
      <label for="password">Nova Password</label>
      <input type="password" id="password" name="password"
        class="form-control <%= erroPassword ? 'form-control--invalid': '' %>" size="35">
      <% if(erroPassword){ %>
        <div class="invalid-feedback">
          <%= erroPassword.msg %>
        </div>
      <%} %>
    </div>
    <div class="form-group">
      <% if(locals.errors){ 
        var erroConfirmPassword=errors.find(el=> el.param == 'confirmPassword');
      } %>
      <label for="confirmPassword">Confirmar Nova Password</label>
      <input type="password" id="confirmPassword" name="confirmPassword"
        class="form-control <%= erroConfirmPassword ? 'form-control--invalid': '' %>" size="35">
      <% if(erroConfirmPassword){ %>
        <div class="invalid-feedback">
          <%= erroConfirmPassword.msg %>
        </div>
      <%} %>
    </div>
    <div class="forminput__buttons">
      <input type="submit" value="Alterar" class="btn btn__primary">
      <a href="/admin/utilizadores" class="btn btn__secondary">Cancelar</a>
    </div>
  </form>
</div>

<%- include('../includes/footer.ejs') %>